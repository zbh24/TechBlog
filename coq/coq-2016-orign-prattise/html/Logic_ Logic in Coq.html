<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0055)http://www.seas.upenn.edu/~cis500/current/sf/Logic.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="./Logic_ Logic in Coq_files/coqdoc.css" rel="stylesheet" type="text/css">
<title>Logic: Logic in Coq</title>
<script type="text/javascript" src="./Logic_ Logic in Coq_files/jquery-1.8.3.js"></script>
<script type="text/javascript" src="./Logic_ Logic in Coq_files/main.js"></script>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Logic<span class="subtitle">Logic in Coq</span></h1>

<div class="code code-tight">
</div>

<div class="doc">

</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Tactics.html#"><span class="id" type="library">Tactics</span></a>.<br>

<br>
</div>

<div class="doc">
In previous chapters, we have seen many examples of factual
    claims (<i>propositions</i>) and ways of presenting evidence of their
    truth (<i>proofs</i>).  In particular, we have worked extensively with
    <i>equality propositions</i> of the form <span class="inlinecode"><span class="id" type="var">e<sub>1</sub></span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" type="var">e<sub>2</sub></span></span>, with
    implications (<span class="inlinecode"><span class="id" type="var">P</span></span> <span class="inlinecode"><span style="font-family: arial;">→</span></span> <span class="inlinecode"><span class="id" type="var">Q</span></span>), and with quantified propositions (<span class="inlinecode"><span style="font-family: arial;">∀</span></span>
    <span class="inlinecode"><span class="id" type="var">x</span>,</span> <span class="inlinecode"><span class="id" type="var">P</span></span>).  In this chapter, we will see how Coq can be used to carry
    out other familiar forms of logical reasoning.

<div class="paragraph"> </div>

    Before diving into details, let's talk a bit about the status of
    mathematical statements in Coq.  Recall that Coq is a <i>typed</i>
    language, which means that every sensible expression in its world
    has an associated type.  Logical claims are no exception: any
    statement we might try to prove in Coq has a type, namely <span class="inlinecode"><span class="id" type="keyword">Prop</span></span>,
    the type of <i>propositions</i>.  We can see this with the <span class="inlinecode"><span class="id" type="keyword">Check</span></span>
    command: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Check</span> 3 = 3.<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br>

<br>
<span class="id" type="keyword">Check</span> <span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a>.<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br>

<br>
</div>

<div class="doc">
Note that all well-formed propositions have type <span class="inlinecode"><span class="id" type="keyword">Prop</span></span> in Coq,
    regardless of whether they are true or not. Simply <i>being</i> a
    proposition is one thing; being <i>provable</i> is something else! 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Check</span> <span style="font-family: arial;">∀</span><span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 2.<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br>

<br>
<span class="id" type="keyword">Check</span> 3 = 4.<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br>

<br>
</div>

<div class="doc">
Indeed, propositions don't just have types: they are <i>first-class
    objects</i> that can be manipulated in the same ways as the other
    entities in Coq's world.  So far, we've seen one primary place
    that propositions can appear: in <span class="inlinecode"><span class="id" type="keyword">Theorem</span></span> (and <span class="inlinecode"><span class="id" type="keyword">Lemma</span></span> and
    <span class="inlinecode"><span class="id" type="keyword">Example</span></span>) declarations. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="plus_2_2_is_4"><span class="id" type="lemma">plus_2_2_is_4</span></a> :<br>
&nbsp;&nbsp;2 + 2 = 4.<br>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
But propositions can be used in many other ways.  For example, we
    can give a name to a proposition using a <span class="inlinecode"><span class="id" type="keyword">Definition</span></span>, just as we
    have given names to expressions of other sorts. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Definition</span> <a name="plus_fact"><span class="id" type="definition">plus_fact</span></a> : <span class="id" type="keyword">Prop</span>  :=  2 + 2 = 4.<br>
<span class="id" type="keyword">Check</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#plus_fact"><span class="id" type="definition">plus_fact</span></a>.<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;plus_fact&nbsp;:&nbsp;Prop&nbsp;*)</span><br>

<br>
</div>

<div class="doc">
We can later use this name in any situation where a proposition is
    expected — for example, as the claim in a <span class="inlinecode"><span class="id" type="keyword">Theorem</span></span> declaration. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="plus_fact_is_true"><span class="id" type="lemma">plus_fact_is_true</span></a> :<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#plus_fact"><span class="id" type="definition">plus_fact</span></a>.<br>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
We can also write <i>parameterized</i> propositions — that is,
    functions that take arguments of some type and return a
    proposition. For instance, the following function takes a number
    and returns a proposition asserting that this number is equal to
    three: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Definition</span> <a name="is_three"><span class="id" type="definition">is_three</span></a> (<span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <span class="id" type="keyword">Prop</span> :=<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 3.<br>
<span class="id" type="keyword">Check</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#is_three"><span class="id" type="definition">is_three</span></a>.<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;nat&nbsp;-&gt;&nbsp;Prop&nbsp;*)</span><br>

<br>
</div>

<div class="doc">
In Coq, functions that return propositions are said to define
    <i>properties</i> of their arguments.  For instance, here's a
    polymorphic property defining the familiar notion of an <i>injective
    function</i>. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Definition</span> <a name="injective"><span class="id" type="definition">injective</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span>} (<span class="id" type="var">f</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#B"><span class="id" type="variable">B</span></a>) :=<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a> = <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#y"><span class="id" type="variable">y</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a> = <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#y"><span class="id" type="variable">y</span></a>.<br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="succ_inj"><span class="id" type="lemma">succ_inj</span></a> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#injective"><span class="id" type="definition">injective</span></a> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
The equality operator <span class="inlinecode">=</span> that we have been using so far is also
    just a function that returns a <span class="inlinecode"><span class="id" type="keyword">Prop</span></span>. The expression <span class="inlinecode"><span class="id" type="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" type="var">m</span></span> is
    just syntactic sugar for <span class="inlinecode"><span class="id" type="var">eq</span></span> <span class="inlinecode"><span class="id" type="var">n</span></span> <span class="inlinecode"><span class="id" type="var">m</span></span>, defined using Coq's <span class="inlinecode"><span class="id" type="keyword">Notation</span></span>
    mechanism. Because <span class="inlinecode">=</span> can be used with elements of any type, it
    is also polymorphic: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Check</span> @<a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq"><span class="id" type="inductive">eq</span></a>.<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;forall&nbsp;A&nbsp;:&nbsp;Type,&nbsp;A&nbsp;-&gt;&nbsp;A&nbsp;-&gt;&nbsp;Prop&nbsp;*)</span><br>

<br>
</div>

<div class="doc">
(Notice that we wrote <span class="inlinecode">@<span class="id" type="var">eq</span></span> instead of <span class="inlinecode"><span class="id" type="var">eq</span></span>: The type argument <span class="inlinecode"><span class="id" type="var">A</span></span>
    to <span class="inlinecode"><span class="id" type="var">eq</span></span> is declared as implicit, so we need to turn off implicit
    arguments to see the full type of <span class="inlinecode"><span class="id" type="var">eq</span></span>.) 
</div>
<div class="code code-tight">

<br>
</div>

<div class="doc">
<a name="lab154"></a><h1 class="section">Logical Connectives</h1>

<div class="paragraph"> </div>

<a name="lab155"></a><h2 class="section">Conjunction</h2>

<div class="paragraph"> </div>

 The <i>conjunction</i> or <i>logical and</i> of propositions <span class="inlinecode"><span class="id" type="var">A</span></span> and <span class="inlinecode"><span class="id" type="var">B</span></span> is
    written <span class="inlinecode"><span class="id" type="var">A</span></span> <span class="inlinecode"><span style="font-family: arial;">∧</span></span> <span class="inlinecode"><span class="id" type="var">B</span></span>, denoting the claim that both <span class="inlinecode"><span class="id" type="var">A</span></span> and <span class="inlinecode"><span class="id" type="var">B</span></span> are
    true. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Example</span> <a name="and_example"><span class="id" type="definition">and_example</span></a> : 3 + 4 = 7 <span style="font-family: arial;">∧</span> 2 * 2 = 4.<br>

<br>
</div>

<div class="doc">
To prove a conjunction, use the <span class="inlinecode"><span class="id" type="tactic">split</span></span> tactic.  Its effect is to
    generate two subgoals, one for each part of the statement: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;3&nbsp;+&nbsp;4&nbsp;=&nbsp;7&nbsp;*)</span> <span class="id" type="tactic">reflexivity</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;2&nbsp;+&nbsp;2&nbsp;=&nbsp;4&nbsp;*)</span> <span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
More generally, the following principle works for any two
    propositions <span class="inlinecode"><span class="id" type="var">A</span></span> and <span class="inlinecode"><span class="id" type="var">B</span></span>: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="and_intro"><span class="id" type="lemma">and_intro</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Prop</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#B"><span class="id" type="variable">B</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a> <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#B"><span class="id" type="variable">B</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">HA</span> <span class="id" type="var">HB</span>. <span class="id" type="tactic">split</span>.<br>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="var">HA</span>.<br>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="var">HB</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
A logical statement with multiple arrows is just a theorem that
    has several hypotheses.  Here, <span class="inlinecode"><span class="id" type="var">and_intro</span></span> says that, for any
    propositions <span class="inlinecode"><span class="id" type="var">A</span></span> and <span class="inlinecode"><span class="id" type="var">B</span></span>, if we assume that <span class="inlinecode"><span class="id" type="var">A</span></span> is true and we
    assume that <span class="inlinecode"><span class="id" type="var">B</span></span> is true, then <span class="inlinecode"><span class="id" type="var">A</span></span> <span class="inlinecode"><span style="font-family: arial;">∧</span></span> <span class="inlinecode"><span class="id" type="var">B</span></span> is also true.

<div class="paragraph"> </div>

    Since applying a theorem with hypotheses to some goal has the
    effect of generating as many subgoals as there are hypotheses for
    that theorem, we can, apply <span class="inlinecode"><span class="id" type="var">and_intro</span></span> to achieve the same effect
    as <span class="inlinecode"><span class="id" type="tactic">split</span></span>. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Example</span> <a name="and_example&#39;"><span class="id" type="definition">and_example'</span></a> : 3 + 4 = 7 <span style="font-family: arial;">∧</span> 2 * 2 = 4.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#and_intro"><span class="id" type="lemma">and_intro</span></a>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;3&nbsp;+&nbsp;4&nbsp;=&nbsp;7&nbsp;*)</span> <span class="id" type="tactic">reflexivity</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;2&nbsp;+&nbsp;2&nbsp;=&nbsp;4&nbsp;*)</span> <span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
<a name="lab156"></a><h4 class="section">Exercise: 2 stars (and_exercise)</h4>

</div>
<div class="code code-space">
<span class="id" type="keyword">Example</span> <a name="and_exercise"><span class="id" type="definition">and_exercise</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

 So much for proving conjunctive statements.  To go in the other
    direction — i.e., to <i>use</i> a conjunctive hypothesis to prove
    something else — we employ the <span class="inlinecode"><span class="id" type="tactic">destruct</span></span> tactic.

<div class="paragraph"> </div>

    If the proof context contains a hypothesis <span class="inlinecode"><span class="id" type="var">H</span></span> of the form <span class="inlinecode"><span class="id" type="var">A</span></span> <span class="inlinecode"><span style="font-family: arial;">∧</span></span>
    <span class="inlinecode"><span class="id" type="var">B</span></span>, writing <span class="inlinecode"><span class="id" type="tactic">destruct</span></span> <span class="inlinecode"><span class="id" type="var">H</span></span> <span class="inlinecode"><span class="id" type="keyword">as</span></span> <span class="inlinecode">[<span class="id" type="var">HA</span></span> <span class="inlinecode"><span class="id" type="var">HB</span>]</span> will remove <span class="inlinecode"><span class="id" type="var">H</span></span> from the
    context and add two new hypotheses: <span class="inlinecode"><span class="id" type="var">HA</span></span>, stating that <span class="inlinecode"><span class="id" type="var">A</span></span> is
    true, and <span class="inlinecode"><span class="id" type="var">HB</span></span>, stating that <span class="inlinecode"><span class="id" type="var">B</span></span> is true.  For instance: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="and_example2"><span class="id" type="lemma">and_example2</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">Hn</span> <span class="id" type="var">Hm</span>].<br>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hn</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hm</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
As usual, we can also destruct <span class="inlinecode"><span class="id" type="var">H</span></span> when we introduce it instead of
    introducing and then destructing it: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="and_example2&#39;"><span class="id" type="lemma">and_example2'</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> [<span class="id" type="var">Hn</span> <span class="id" type="var">Hm</span>].<br>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hn</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hm</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
You may wonder why we bothered packing the two hypotheses <span class="inlinecode"><span class="id" type="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>
    and <span class="inlinecode"><span class="id" type="var">m</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span> into a single conjunction, since we could have also
    stated the theorem with two separate premises: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="and_example2&#39;&#39;"><span class="id" type="lemma">and_example2''</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">Hn</span> <span class="id" type="var">Hm</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hn</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hm</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
In this case, there is not much difference between the two
    theorems.  But it is often necessary to explicitly decompose
    conjunctions that arise from intermediate steps in proofs,
    especially in bigger developments.  Here's a simplified
    example: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="and_example3"><span class="id" type="lemma">and_example3</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> * <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">H'</span> : <span class="id" type="var">n</span> = 0 <span style="font-family: arial;">∧</span> <span class="id" type="var">m</span> = 0).<br>
&nbsp;&nbsp;{ <span class="id" type="tactic">apply</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#and_exercise"><span class="id" type="axiom">and_exercise</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. }<br>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H'</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">Hn</span> <span class="id" type="var">Hm</span>].<br>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hn</span>. <span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
Another common situation with conjunctions is that we know <span class="inlinecode"><span class="id" type="var">A</span></span> <span class="inlinecode"><span style="font-family: arial;">∧</span></span>
    <span class="inlinecode"><span class="id" type="var">B</span></span> but in some context we need just <span class="inlinecode"><span class="id" type="var">A</span></span> (or just <span class="inlinecode"><span class="id" type="var">B</span></span>).  The
    following lemmas are useful in such cases: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="proj1"><span class="id" type="lemma">proj1</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> [<span class="id" type="var">HP</span> <span class="id" type="var">HQ</span>].<br>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">HP</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
<a name="lab157"></a><h4 class="section">Exercise: 1 star, optional (proj2)</h4>

</div>
<div class="code code-space">
<span class="id" type="keyword">Lemma</span> <a name="proj2"><span class="id" type="lemma">proj2</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

 Finally, we sometimes need to rearrange the order of conjunctions
    and/or the grouping of conjuncts in multi-way conjunctions.  The
    following commutativity and associativity theorems come in handy
    in such cases. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="and_commut"><span class="id" type="lemma">and_commut</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span><br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> [<span class="id" type="var">HP</span> <span class="id" type="var">HQ</span>].<br>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;left&nbsp;*)</span> <span class="id" type="tactic">apply</span> <span class="id" type="var">HQ</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;right&nbsp;*)</span> <span class="id" type="tactic">apply</span> <span class="id" type="var">HP</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
<a name="lab158"></a><h4 class="section">Exercise: 2 stars (and_assoc)</h4>
 (In the following proof of associativity, notice how the <i>nested</i>
    intro pattern breaks the hypothesis <span class="inlinecode"><span class="id" type="var">H</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="var">P</span></span> <span class="inlinecode"><span style="font-family: arial;">∧</span></span> <span class="inlinecode">(<span class="id" type="var">Q</span></span> <span class="inlinecode"><span style="font-family: arial;">∧</span></span> <span class="inlinecode"><span class="id" type="var">R</span>)</span> down into
    <span class="inlinecode"><span class="id" type="var">HP</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="var">P</span></span>, <span class="inlinecode"><span class="id" type="var">HQ</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="var">Q</span></span>, and <span class="inlinecode"><span class="id" type="var">HR</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="var">R</span></span>.  Finish the proof from
    there.) 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="and_assoc"><span class="id" type="lemma">and_assoc</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">R</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∧</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#R"><span class="id" type="variable">R</span></a>) <span style="font-family: arial;">→</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>) <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#R"><span class="id" type="variable">R</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">R</span> [<span class="id" type="var">HP</span> [<span class="id" type="var">HQ</span> <span class="id" type="var">HR</span>]].<br>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

 By the way, the infix notation <span class="inlinecode"><span style="font-family: arial;">∧</span></span> is actually just syntactic
    sugar for <span class="inlinecode"><span class="id" type="var">and</span></span> <span class="inlinecode"><span class="id" type="var">A</span></span> <span class="inlinecode"><span class="id" type="var">B</span></span>.  That is, <span class="inlinecode"><span class="id" type="var">and</span></span> is a Coq operator that takes
    two propositions as arguments and yields a proposition. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Check</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#and"><span class="id" type="inductive">and</span></a>.<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;and&nbsp;:&nbsp;Prop&nbsp;-&gt;&nbsp;Prop&nbsp;-&gt;&nbsp;Prop&nbsp;*)</span><br>

<br>
</div>

<div class="doc">
<a name="lab159"></a><h2 class="section">Disjunction</h2>

<div class="paragraph"> </div>

 Another important connective is the <i>disjunction</i>, or <i>logical or</i>
    of two propositions: <span class="inlinecode"><span class="id" type="var">A</span></span> <span class="inlinecode"><span style="font-family: arial;">∨</span></span> <span class="inlinecode"><span class="id" type="var">B</span></span> is true when either <span class="inlinecode"><span class="id" type="var">A</span></span> or <span class="inlinecode"><span class="id" type="var">B</span></span>
    is.  (Alternatively, we can write <span class="inlinecode"><span class="id" type="var">or</span></span> <span class="inlinecode"><span class="id" type="var">A</span></span> <span class="inlinecode"><span class="id" type="var">B</span></span>, where <span class="inlinecode"><span class="id" type="var">or</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="keyword">Prop</span></span> <span class="inlinecode"><span style="font-family: arial;">→</span></span>
    <span class="inlinecode"><span class="id" type="keyword">Prop</span></span> <span class="inlinecode"><span style="font-family: arial;">→</span></span> <span class="inlinecode"><span class="id" type="keyword">Prop</span></span>.)

<div class="paragraph"> </div>

    To use a disjunctive hypothesis in a proof, we proceed by case
    analysis, which, as for <span class="inlinecode"><span class="id" type="var">nat</span></span> or other data types, can be done
    with <span class="inlinecode"><span class="id" type="tactic">destruct</span></span> or <span class="inlinecode"><span class="id" type="tactic">intros</span></span>.  Here is an example: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="or_example"><span class="id" type="lemma">or_example</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> * <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;pattern&nbsp;implicitly&nbsp;does&nbsp;case&nbsp;analysis&nbsp;on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" type="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span> <span class="inlinecode"><span style="font-family: arial;">∨</span></span> <span class="inlinecode"><span class="id" type="var">m</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>&nbsp;*)</span><br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> [<span class="id" type="var">Hn</span> | <span class="id" type="var">Hm</span>].<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Here,&nbsp;<span class="inlinecode"><span class="id" type="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hn</span>. <span class="id" type="tactic">reflexivity</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Here,&nbsp;<span class="inlinecode"><span class="id" type="var">m</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hm</span>. <span class="id" type="tactic">rewrite</span> <span style="font-family: arial;">←</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Peano.html#mult_n_O"><span class="id" type="lemma">mult_n_O</span></a>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
We can see in this example that, when we perform case analysis on
    a disjunction <span class="inlinecode"><span class="id" type="var">A</span></span> <span class="inlinecode"><span style="font-family: arial;">∨</span></span> <span class="inlinecode"><span class="id" type="var">B</span></span>, we must satisfy two proof obligations,
    each showing that the conclusion holds under a different
    assumption — <span class="inlinecode"><span class="id" type="var">A</span></span> in the first subgoal and <span class="inlinecode"><span class="id" type="var">B</span></span> in the second.
    Note that the case analysis pattern (<span class="inlinecode"><span class="id" type="var">Hn</span></span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" type="var">Hm</span></span>) allows us to name
    the hypothesis that is generated in each subgoal.

<div class="paragraph"> </div>

    Conversely, to show that a disjunction holds, we need to show that
    one of its sides does. This is done via two tactics, <span class="inlinecode"><span class="id" type="var">left</span></span> and
    <span class="inlinecode"><span class="id" type="var">right</span></span>.  As their names imply, the first one requires proving the
    left side of the disjunction, while the second requires proving
    its right side.  Here is a trivial use... 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="or_intro"><span class="id" type="lemma">or_intro</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Prop</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#B"><span class="id" type="variable">B</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">HA</span>.<br>
&nbsp;&nbsp;<span class="id" type="var">left</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">HA</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
... and a slightly more interesting example requiring the use of
    both <span class="inlinecode"><span class="id" type="var">left</span></span> and <span class="inlinecode"><span class="id" type="var">right</span></span>: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="zero_or_succ"><span class="id" type="lemma">zero_or_succ</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library/Coq.Init.Peano.html#pred"><span class="id" type="definition">pred</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [|<span class="id" type="var">n</span>].<br>
&nbsp;&nbsp;- <span class="id" type="var">left</span>. <span class="id" type="tactic">reflexivity</span>.<br>
&nbsp;&nbsp;- <span class="id" type="var">right</span>. <span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
<a name="lab160"></a><h4 class="section">Exercise: 1 star (mult_eq_0)</h4>

</div>
<div class="code code-space">
<span class="id" type="keyword">Lemma</span> <a name="mult_eq_0"><span class="id" type="lemma">mult_eq_0</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> * <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

<a name="lab161"></a><h4 class="section">Exercise: 1 star (or_commut)</h4>

</div>
<div class="code code-space">
<span class="id" type="keyword">Theorem</span> <a name="or_commut"><span class="id" type="lemma">or_commut</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>  <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

<a name="lab162"></a><h2 class="section">Falsehood and Negation</h2>

<div class="paragraph"> </div>

 So far, we have mostly been concerned with proving that certain
    things are <i>true</i> — addition is commutative, appending lists is
    associative, etc.  Of course, we may also be interested in
    <i>negative</i> results, showing that certain propositions are <i>not</i>
    true. In Coq, such negative statements are expressed with the
    negation operator <span class="inlinecode">¬</span>.

<div class="paragraph"> </div>

    To see how negation works, recall the discussion of the <i>principle
    of explosion</i> from the <span class="inlinecode"><span class="id" type="var">Tactics</span></span> chapter; it asserts that, if we
    assume a contradiction, then any other proposition can be derived.
    Following this intuition, we could define <span class="inlinecode">¬</span> <span class="inlinecode"><span class="id" type="var">P</span></span> ("not <span class="inlinecode"><span class="id" type="var">P</span></span>") as
    <span class="inlinecode"><span style="font-family: arial;">∀</span></span> <span class="inlinecode"><span class="id" type="var">Q</span>,</span> <span class="inlinecode"><span class="id" type="var">P</span></span> <span class="inlinecode"><span style="font-family: arial;">→</span></span> <span class="inlinecode"><span class="id" type="var">Q</span></span>.  Coq actually makes a slightly different
    choice, defining <span class="inlinecode">¬</span> <span class="inlinecode"><span class="id" type="var">P</span></span> as <span class="inlinecode"><span class="id" type="var">P</span></span> <span class="inlinecode"><span style="font-family: arial;">→</span></span> <span class="inlinecode"><span class="id" type="var">False</span></span>, where <span class="inlinecode"><span class="id" type="var">False</span></span> is a
    <i>particular</i> contradictory proposition defined in the standard
    library. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Module</span> <a name="MyNot"><span class="id" type="module">MyNot</span></a>.<br>

<br>
<span class="id" type="keyword">Definition</span> <a name="MyNot.not"><span class="id" type="definition">not</span></a> (<span class="id" type="var">P</span>:<span class="id" type="keyword">Prop</span>) := <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a>.<br>

<br>
<span class="id" type="keyword">Notation</span> "¬ x" := (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#MyNot.not"><span class="id" type="definition">not</span></a> <span class="id" type="var">x</span>) : <span class="id" type="var">type_scope</span>.<br>

<br>
<span class="id" type="keyword">Check</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#MyNot.not"><span class="id" type="definition">not</span></a>.<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;-&gt;&nbsp;Prop&nbsp;*)</span><br>

<br>
<span class="id" type="keyword">End</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#MyNot"><span class="id" type="module">MyNot</span></a>.<br>

<br>
</div>

<div class="doc">
Since <span class="inlinecode"><span class="id" type="var">False</span></span> is a contradictory proposition, the principle of
    explosion also applies to it. If we get <span class="inlinecode"><span class="id" type="var">False</span></span> into the proof
    context, we can <span class="inlinecode"><span class="id" type="tactic">destruct</span></span> it to complete any goal: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="ex_falso_quodlibet"><span class="id" type="lemma">ex_falso_quodlibet</span></a> : <span style="font-family: arial;">∀</span>(<span class="id" type="var">P</span>:<span class="id" type="keyword">Prop</span>),<br>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span><br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> <span class="id" type="var">contra</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">contra</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
The Latin <i>ex falso quodlibet</i> means, literally, "from falsehood
    follows whatever you like"; this is another common name for the
    principle of explosion. 
<div class="paragraph"> </div>

<a name="lab163"></a><h4 class="section">Exercise: 2 stars, optional (not_implies_our_not)</h4>
 Show that Coq's definition of negation implies the intuitive one
    mentioned above: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Fact</span> <a name="not_implies_our_not"><span class="id" type="lemma">not_implies_our_not</span></a> : <span style="font-family: arial;">∀</span>(<span class="id" type="var">P</span>:<span class="id" type="keyword">Prop</span>),<br>
&nbsp;&nbsp;¬ <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">→</span> (<span style="font-family: arial;">∀</span>(<span class="id" type="var">Q</span>:<span class="id" type="keyword">Prop</span>), <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

 This is how we use <span class="inlinecode"><span class="id" type="var">not</span></span> to state that <span class="inlinecode">0</span> and <span class="inlinecode">1</span> are different
    elements of <span class="inlinecode"><span class="id" type="var">nat</span></span>: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="zero_not_one"><span class="id" type="lemma">zero_not_one</span></a> : ~(0 = 1).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">contra</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">contra</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
Such inequality statements are frequent enough to warrant a
    special notation, <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode">≠</span> <span class="inlinecode"><span class="id" type="var">y</span></span>: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Check</span> (0 ≠ 1).<br>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br>

<br>
<span class="id" type="keyword">Theorem</span> <a name="zero_not_one&#39;"><span class="id" type="lemma">zero_not_one'</span></a> : 0 ≠ 1.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
It takes a little practice to get used to working with negation in
    Coq.  Even though you can see perfectly well why a statement
    involving negation is true, it can be a little tricky at first to
    get things into the right configuration so that Coq can understand
    it!  Here are proofs of a few familiar facts to get you warmed
    up. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="not_False"><span class="id" type="lemma">not_False</span></a> :<br>
&nbsp;&nbsp;¬ <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
<span class="id" type="keyword">Theorem</span> <a name="contradiction_implies_anything"><span class="id" type="lemma">contradiction_implies_anything</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;(<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∧</span> ¬<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>) <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span><br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> [<span class="id" type="var">HP</span> <span class="id" type="var">HNA</span>]. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">HNA</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">HNA</span> <span class="id" type="keyword">in</span> <span class="id" type="var">HP</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">HP</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
<span class="id" type="keyword">Theorem</span> <a name="double_neg"><span class="id" type="lemma">double_neg</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">→</span> ~~<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span><br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span> <span class="id" type="var">G</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">G</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
<a name="lab164"></a><h4 class="section">Exercise: 2 stars, advanced, recommended (double_neg_inf)</h4>
 Write an informal proof of <span class="inlinecode"><span class="id" type="var">double_neg</span></span>:

<div class="paragraph"> </div>

   <i>Theorem</i>: <span class="inlinecode"><span class="id" type="var">P</span></span> implies <span class="inlinecode">~~<span class="id" type="var">P</span></span>, for any proposition <span class="inlinecode"><span class="id" type="var">P</span></span>.

<div class="paragraph"> </div>

   <i>Proof</i>:
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span><br>
   <font size="-2">☐</font>

<div class="paragraph"> </div>

<a name="lab165"></a><h4 class="section">Exercise: 2 stars, recommended (contrapositive)</h4>

</div>
<div class="code code-space">
<span class="id" type="keyword">Theorem</span> <a name="contrapositive"><span class="id" type="lemma">contrapositive</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;(<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>) <span style="font-family: arial;">→</span> (¬<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">→</span> ¬<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

<a name="lab166"></a><h4 class="section">Exercise: 1 star (not_both_true_and_false)</h4>

</div>
<div class="code code-space">
<span class="id" type="keyword">Theorem</span> <a name="not_both_true_and_false"><span class="id" type="lemma">not_both_true_and_false</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;¬ (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∧</span> ¬<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

<a name="lab167"></a><h4 class="section">Exercise: 1 star, advanced (informal_not_PNP)</h4>
 Write an informal proof (in English) of the proposition <span class="inlinecode"><span style="font-family: arial;">∀</span></span> <span class="inlinecode"><span class="id" type="var">P</span></span>
    <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="keyword">Prop</span>,</span> <span class="inlinecode">~(<span class="id" type="var">P</span></span> <span class="inlinecode"><span style="font-family: arial;">∧</span></span> <span class="inlinecode">¬<span class="id" type="var">P</span>)</span>. 
</div>
<div class="code code-tight">

<br>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span><br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

 Similarly, since inequality involves a negation, it requires a
    little practice to be able to work with it fluently.  Here is one
    useful trick.  If you are trying to prove a goal that is
    nonsensical (e.g., the goal state is <span class="inlinecode"><span class="id" type="var">false</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" type="var">true</span></span>), apply
    <span class="inlinecode"><span class="id" type="var">ex_falso_quodlibet</span></span> to change the goal to <span class="inlinecode"><span class="id" type="var">False</span></span>.  This makes it
    easier to use assumptions of the form <span class="inlinecode">¬<span class="id" type="var">P</span></span> that may be available
    in the context — in particular, assumptions of the form
    <span class="inlinecode"><span class="id" type="var">x</span>≠<span class="id" type="var">y</span></span>. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="not_true_is_false"><span class="id" type="lemma">not_true_is_false</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">b</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#bool"><span class="id" type="inductive">bool</span></a>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#b"><span class="id" type="variable">b</span></a> ≠ <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#true"><span class="id" type="constructor">true</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#b"><span class="id" type="variable">b</span></a> = <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#false"><span class="id" type="constructor">false</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [] <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;b&nbsp;=&nbsp;true&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#ex_falso_quodlibet"><span class="id" type="lemma">ex_falso_quodlibet</span></a>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;b&nbsp;=&nbsp;false&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
Since reasoning with <span class="inlinecode"><span class="id" type="var">ex_falso_quodlibet</span></span> is quite common, Coq
    provides a built-in tactic, <span class="inlinecode"><span class="id" type="var">exfalso</span></span>, for applying it. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="not_true_is_false&#39;"><span class="id" type="lemma">not_true_is_false'</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">b</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#bool"><span class="id" type="inductive">bool</span></a>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#b"><span class="id" type="variable">b</span></a> ≠ <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#true"><span class="id" type="constructor">true</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#b"><span class="id" type="variable">b</span></a> = <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#false"><span class="id" type="constructor">false</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [] <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;b&nbsp;=&nbsp;false&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">exfalso</span>. <span class="comment">(*&nbsp;&lt;===&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;b&nbsp;=&nbsp;true&nbsp;*)</span> <span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
<a name="lab168"></a><h2 class="section">Truth</h2>

<div class="paragraph"> </div>

 Besides <span class="inlinecode"><span class="id" type="var">False</span></span>, Coq's standard library also defines <span class="inlinecode"><span class="id" type="var">True</span></span>, a
    proposition that is trivially true. To prove it, we use the
    predefined constant <span class="inlinecode"><span class="id" type="var">I</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="var">True</span></span>: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="True_is_true"><span class="id" type="lemma">True_is_true</span></a> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#True"><span class="id" type="inductive">True</span></a>.<br>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>. <span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
Unlike <span class="inlinecode"><span class="id" type="var">False</span></span>, which is used extensively, <span class="inlinecode"><span class="id" type="var">True</span></span> is used quite
    rarely, since it is trivial (and therefore uninteresting) to prove
    as a goal, and it carries no useful information as a hypothesis.
    But it can be quite useful when defining complex <span class="inlinecode"><span class="id" type="keyword">Prop</span></span>s using
    conditionals or as a parameter to higher-order <span class="inlinecode"><span class="id" type="keyword">Prop</span></span>s.  We will
    see some examples such uses of <span class="inlinecode"><span class="id" type="var">True</span></span> later on. 
<div class="paragraph"> </div>

<a name="lab169"></a><h2 class="section">Logical Equivalence</h2>

<div class="paragraph"> </div>

 The handy "if and only if" connective, which asserts that two
    propositions have the same truth value, is just the conjunction of
    two implications. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Module</span> <a name="MyIff"><span class="id" type="module">MyIff</span></a>.<br>

<br>
<span class="id" type="keyword">Definition</span> <a name="MyIff.iff"><span class="id" type="definition">iff</span></a> (<span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <span class="id" type="keyword">Prop</span>) := (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>) <span style="font-family: arial;">∧</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>).<br>

<br>
<span class="id" type="keyword">Notation</span> "P <span style="font-family: arial;">↔</span> Q" := (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#MyIff.iff"><span class="id" type="definition">iff</span></a> <span class="id" type="var">P</span> <span class="id" type="var">Q</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 95, <span class="id" type="var">no</span> <span class="id" type="var">associativity</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">type_scope</span>.<br>

<br>
<span class="id" type="keyword">End</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#MyIff"><span class="id" type="module">MyIff</span></a>.<br>

<br>
<span class="id" type="keyword">Theorem</span> <a name="iff_sym"><span class="id" type="lemma">iff_sym</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;(<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>) <span style="font-family: arial;">→</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span><br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> [<span class="id" type="var">HAB</span> <span class="id" type="var">HBA</span>].<br>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;-&gt;&nbsp;*)</span> <span class="id" type="tactic">apply</span> <span class="id" type="var">HBA</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;&lt;-&nbsp;*)</span> <span class="id" type="tactic">apply</span> <span class="id" type="var">HAB</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="not_true_iff_false"><span class="id" type="lemma">not_true_iff_false</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">b</span>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#b"><span class="id" type="variable">b</span></a> ≠ <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#true"><span class="id" type="constructor">true</span></a> <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#b"><span class="id" type="variable">b</span></a> = <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#false"><span class="id" type="constructor">false</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span><br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">split</span>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;-&gt;&nbsp;*)</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#not_true_is_false"><span class="id" type="lemma">not_true_is_false</span></a>.<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;&lt;-&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">intros</span> <span class="id" type="var">H'</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H'</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
<a name="lab170"></a><h4 class="section">Exercise: 1 star, optional (iff_properties)</h4>
 Using the above proof that <span class="inlinecode"><span style="font-family: arial;">↔</span></span> is symmetric (<span class="inlinecode"><span class="id" type="var">iff_sym</span></span>) as
    a guide, prove that it is also reflexive and transitive. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="iff_refl"><span class="id" type="lemma">iff_refl</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>

<br>
<span class="id" type="keyword">Theorem</span> <a name="iff_trans"><span class="id" type="lemma">iff_trans</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">R</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;(<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>) <span style="font-family: arial;">→</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#R"><span class="id" type="variable">R</span></a>) <span style="font-family: arial;">→</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#R"><span class="id" type="variable">R</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

<a name="lab171"></a><h4 class="section">Exercise: 3 stars (or_distributes_over_and)</h4>

</div>
<div class="code code-space">
<span class="id" type="keyword">Theorem</span> <a name="or_distributes_over_and"><span class="id" type="lemma">or_distributes_over_and</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">R</span> : <span class="id" type="keyword">Prop</span>,<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∨</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#R"><span class="id" type="variable">R</span></a>) <span style="font-family: arial;">↔</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>) <span style="font-family: arial;">∧</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#R"><span class="id" type="variable">R</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

 Some of Coq's tactics treat <span class="inlinecode"><span class="id" type="var">iff</span></span> statements specially, avoiding
    the need for some low-level proof-state manipulation.  In
    particular, <span class="inlinecode"><span class="id" type="tactic">rewrite</span></span> and <span class="inlinecode"><span class="id" type="tactic">reflexivity</span></span> can be used with <span class="inlinecode"><span class="id" type="var">iff</span></span>
    statements, not just equalities.  To enable this behavior, we need
    to import a special Coq library that allows rewriting with other
    formulas besides equality: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library/Coq.Setoids.Setoid.html#"><span class="id" type="library">Coq.Setoids.Setoid</span></a>.<br>

<br>
</div>

<div class="doc">
Here is a simple example demonstrating how these tactics work with
    <span class="inlinecode"><span class="id" type="var">iff</span></span>.  First, let's prove a couple of basic iff equivalences: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="mult_0"><span class="id" type="lemma">mult_0</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> * <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#mult_eq_0"><span class="id" type="axiom">mult_eq_0</span></a>.<br>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#or_example"><span class="id" type="lemma">or_example</span></a>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="or_assoc"><span class="id" type="lemma">or_assoc</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">R</span> : <span class="id" type="keyword">Prop</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∨</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#R"><span class="id" type="variable">R</span></a>) <span style="font-family: arial;">↔</span> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a>) <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#R"><span class="id" type="variable">R</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">R</span>. <span class="id" type="tactic">split</span>.<br>
&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [<span class="id" type="var">H</span> | [<span class="id" type="var">H</span> | <span class="id" type="var">H</span>]].<br>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="var">left</span>. <span class="id" type="var">left</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="var">left</span>. <span class="id" type="var">right</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="var">right</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [[<span class="id" type="var">H</span> | <span class="id" type="var">H</span>] | <span class="id" type="var">H</span>].<br>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="var">left</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="var">right</span>. <span class="id" type="var">left</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="var">right</span>. <span class="id" type="var">right</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
We can now use these facts with <span class="inlinecode"><span class="id" type="tactic">rewrite</span></span> and <span class="inlinecode"><span class="id" type="tactic">reflexivity</span></span> to
    give smooth proofs of statements involving equivalences.  Here is
    a ternary version of the previous <span class="inlinecode"><span class="id" type="var">mult_0</span></span> result: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="mult_0_3"><span class="id" type="lemma">mult_0_3</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">p</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> * <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> * <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#p"><span class="id" type="variable">p</span></a> = 0 <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#p"><span class="id" type="variable">p</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">p</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#mult_0"><span class="id" type="lemma">mult_0</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#mult_0"><span class="id" type="lemma">mult_0</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#or_assoc"><span class="id" type="lemma">or_assoc</span></a>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" type="tactic">apply</span></span> tactic can also be used with <span class="inlinecode"><span style="font-family: arial;">↔</span></span>. When given an
    equivalence as its argument, <span class="inlinecode"><span class="id" type="tactic">apply</span></span> tries to guess which side of
    the equivalence to use. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="apply_iff_example"><span class="id" type="lemma">apply_iff_example</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> * <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0 <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 0 <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a> = 0.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#mult_0"><span class="id" type="lemma">mult_0</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
<a name="lab172"></a><h2 class="section">Existential Quantification</h2>

<div class="paragraph"> </div>

 Another important logical connective is <i>existential
    quantification</i>.  To say that there is some <span class="inlinecode"><span class="id" type="var">x</span></span> of type <span class="inlinecode"><span class="id" type="var">T</span></span> such
    that some property <span class="inlinecode"><span class="id" type="var">P</span></span> holds of <span class="inlinecode"><span class="id" type="var">x</span></span>, we write <span class="inlinecode"><span style="font-family: arial;">∃</span></span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="var">T</span>,</span>
    <span class="inlinecode"><span class="id" type="var">P</span></span>. As with <span class="inlinecode"><span style="font-family: arial;">∀</span></span>, the type annotation <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="var">T</span></span> can be omitted if
    Coq is able to infer from the context what the type of <span class="inlinecode"><span class="id" type="var">x</span></span> should
    be.

<div class="paragraph"> </div>

    To prove a statement of the form <span class="inlinecode"><span style="font-family: arial;">∃</span></span> <span class="inlinecode"><span class="id" type="var">x</span>,</span> <span class="inlinecode"><span class="id" type="var">P</span></span>, we must show that
    <span class="inlinecode"><span class="id" type="var">P</span></span> holds for some specific choice of value for <span class="inlinecode"><span class="id" type="var">x</span></span>, known as the
    <i>witness</i> of the existential.  This is done in two steps: First,
    we explicitly tell Coq which witness <span class="inlinecode"><span class="id" type="var">t</span></span> we have in mind by
    invoking the tactic <span class="inlinecode"><span style="font-family: arial;">∃</span></span> <span class="inlinecode"><span class="id" type="var">t</span></span>; then we prove that <span class="inlinecode"><span class="id" type="var">P</span></span> holds after
    all occurrences of <span class="inlinecode"><span class="id" type="var">x</span></span> are replaced by <span class="inlinecode"><span class="id" type="var">t</span></span>.  Here is an example: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="four_is_even"><span class="id" type="lemma">four_is_even</span></a> : <span style="font-family: arial;">∃</span><span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, 4 = <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span style="font-family: arial;">∃</span>2. <span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
Conversely, if we have an existential hypothesis <span class="inlinecode"><span style="font-family: arial;">∃</span></span> <span class="inlinecode"><span class="id" type="var">x</span>,</span> <span class="inlinecode"><span class="id" type="var">P</span></span> in
    the context, we can destruct it to obtain a witness <span class="inlinecode"><span class="id" type="var">x</span></span> and a
    hypothesis stating that <span class="inlinecode"><span class="id" type="var">P</span></span> holds of <span class="inlinecode"><span class="id" type="var">x</span></span>. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="exists_example_2"><span class="id" type="lemma">exists_example_2</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">n</span>,<br>
&nbsp;&nbsp;(<span style="font-family: arial;">∃</span><span class="id" type="var">m</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 4 + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#m"><span class="id" type="variable">m</span></a>) <span style="font-family: arial;">→</span><br>
&nbsp;&nbsp;(<span style="font-family: arial;">∃</span><span class="id" type="var">o</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 2 + <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#o"><span class="id" type="variable">o</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> [<span class="id" type="var">m</span> <span class="id" type="var">Hm</span>].<br>
&nbsp;&nbsp;<span style="font-family: arial;">∃</span>(2 + <span class="id" type="var">m</span>).<br>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">Hm</span>. <span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
<a name="lab173"></a><h4 class="section">Exercise: 1 star (dist_not_exists)</h4>
 Prove that "<span class="inlinecode"><span class="id" type="var">P</span></span> holds for all <span class="inlinecode"><span class="id" type="var">x</span></span>" implies "there is no <span class="inlinecode"><span class="id" type="var">x</span></span> for
    which <span class="inlinecode"><span class="id" type="var">P</span></span> does not hold." 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="dist_not_exists"><span class="id" type="lemma">dist_not_exists</span></a> : <span style="font-family: arial;">∀</span>(<span class="id" type="var">X</span>:<span class="id" type="keyword">Type</span>) (<span class="id" type="var">P</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#X"><span class="id" type="variable">X</span></a> <span style="font-family: arial;">→</span> <span class="id" type="keyword">Prop</span>),<br>
&nbsp;&nbsp;(<span style="font-family: arial;">∀</span><span class="id" type="var">x</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a>) <span style="font-family: arial;">→</span> ¬ (<span style="font-family: arial;">∃</span><span class="id" type="var">x</span>, ¬ <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

<a name="lab174"></a><h4 class="section">Exercise: 2 stars (dist_exists_or)</h4>
 Prove that existential quantification distributes over
    disjunction. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Theorem</span> <a name="dist_exists_or"><span class="id" type="lemma">dist_exists_or</span></a> : <span style="font-family: arial;">∀</span>(<span class="id" type="var">X</span>:<span class="id" type="keyword">Type</span>) (<span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#X"><span class="id" type="variable">X</span></a> <span style="font-family: arial;">→</span> <span class="id" type="keyword">Prop</span>),<br>
&nbsp;&nbsp;(<span style="font-family: arial;">∃</span><span class="id" type="var">x</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a>) <span style="font-family: arial;">↔</span> (<span style="font-family: arial;">∃</span><span class="id" type="var">x</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a>) <span style="font-family: arial;">∨</span> (<span style="font-family: arial;">∃</span><span class="id" type="var">x</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#Q"><span class="id" type="variable">Q</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
</div>
<div class="code code-tight">

<br>
</div>

<div class="doc">
<a name="lab175"></a><h1 class="section">Programming with Propositions</h1>

<div class="paragraph"> </div>

 The logical connectives that we have seen provide a rich
    vocabulary for defining complex propositions from simpler ones.
    To illustrate, let's look at how to express the claim that an
    element <span class="inlinecode"><span class="id" type="var">x</span></span> occurs in a list <span class="inlinecode"><span class="id" type="var">l</span></span>.  Notice that this property has a
    simple recursive structure:

<div class="paragraph"> </div>

<ul class="doclist">
<li> If <span class="inlinecode"><span class="id" type="var">l</span></span> is the empty list, then <span class="inlinecode"><span class="id" type="var">x</span></span> cannot occur on it, so the
      property "<span class="inlinecode"><span class="id" type="var">x</span></span> appears in <span class="inlinecode"><span class="id" type="var">l</span></span>" is simply false.

<div class="paragraph"> </div>


</li>
<li> Otherwise, <span class="inlinecode"><span class="id" type="var">l</span></span> has the form <span class="inlinecode"><span class="id" type="var">x'</span></span> <span class="inlinecode">::</span> <span class="inlinecode"><span class="id" type="var">l'</span></span>.  In this case, <span class="inlinecode"><span class="id" type="var">x</span></span>
      occurs in <span class="inlinecode"><span class="id" type="var">l</span></span> if either it is equal to <span class="inlinecode"><span class="id" type="var">x'</span></span> or it occurs in
      <span class="inlinecode"><span class="id" type="var">l'</span></span>. 
</li>
</ul>

<div class="paragraph"> </div>

 We can translate this directly into a straightforward Coq
    function, <span class="inlinecode"><span class="id" type="var">In</span></span>.  (It can also be found in the Coq standard
    library.) 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Fixpoint</span> <a name="In"><span class="id" type="definition">In</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">x</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Poly.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a>) : <span class="id" type="keyword">Prop</span> :=<br>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br>
&nbsp;&nbsp;| [] ⇒ <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a><br>
&nbsp;&nbsp;| <span class="id" type="var">x'</span> :: <span class="id" type="var">l'</span> ⇒ <span class="id" type="var">x'</span> = <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="var">l'</span><br>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br>

<br>
</div>

<div class="doc">
When <span class="inlinecode"><span class="id" type="var">In</span></span> is applied to a concrete list, it expands into a
    concrete sequence of nested conjunctions. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Example</span> <a name="In_example_1"><span class="id" type="definition">In_example_1</span></a> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> 4 [3; 4; 5].<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="var">right</span>. <span class="id" type="var">left</span>. <span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
<span class="id" type="keyword">Example</span> <a name="In_example_2"><span class="id" type="definition">In_example_2</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">n</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> [2; 4] <span style="font-family: arial;">→</span><br>
&nbsp;&nbsp;<span style="font-family: arial;">∃</span><span class="id" type="var">n'</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n"><span class="id" type="variable">n</span></a> = 2 * <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#n'"><span class="id" type="variable">n'</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> [<span class="id" type="var">H</span> | [<span class="id" type="var">H</span> | []]].<br>
&nbsp;&nbsp;- <span style="font-family: arial;">∃</span>1. <span class="id" type="tactic">rewrite</span> <span style="font-family: arial;">←</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br>
&nbsp;&nbsp;- <span style="font-family: arial;">∃</span>2. <span class="id" type="tactic">rewrite</span> <span style="font-family: arial;">←</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
(Notice the use of the empty pattern to discharge the last case
    <i>en passant</i>.) 
<div class="paragraph"> </div>

 We can also prove more generic, higher-level lemmas about <span class="inlinecode"><span class="id" type="var">In</span></span>.
    Note, in the next, how <span class="inlinecode"><span class="id" type="var">In</span></span> starts out applied to a variable and
    only gets expanded when we do case analysis on this variable: 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Lemma</span> <a name="In_map"><span class="id" type="lemma">In_map</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span>(<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">f</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Poly.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a>),<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l"><span class="id" type="variable">l</span></a> <span style="font-family: arial;">→</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a>) (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Poly.html#map"><span class="id" type="definition">map</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l"><span class="id" type="variable">l</span></a>).<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">f</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span>.<br>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span> <span class="id" type="keyword">as</span> [|<span class="id" type="var">x'</span> <span class="id" type="var">l'</span> <span class="id" type="var">IHl'</span>].<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;l&nbsp;=&nbsp;nil,&nbsp;contradiction&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">intros</span> [].<br>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;l&nbsp;=&nbsp;x'&nbsp;::&nbsp;l'&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">intros</span> [<span class="id" type="var">H</span> | <span class="id" type="var">H</span>].<br>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="var">left</span>. <span class="id" type="tactic">reflexivity</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="var">right</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl'</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br>
<span class="id" type="keyword">Qed</span>.<br>

<br>
</div>

<div class="doc">
This way of defining propositions, though convenient in some
    cases, also has some drawbacks.  In particular, it is subject to
    Coq's usual restrictions regarding the definition of recursive
    functions, e.g., the requirement that they be "obviously
    terminating."  In the next chapter, we will see how to define
    propositions <i>inductively</i>, a different technique with its own set
    of strengths and limitations. 
<div class="paragraph"> </div>

<a name="lab176"></a><h4 class="section">Exercise: 2 stars (In_map_iff)</h4>

</div>
<div class="code code-space">
<span class="id" type="keyword">Lemma</span> <a name="In_map_iff"><span class="id" type="lemma">In_map_iff</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span>(<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">f</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Poly.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">y</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#B"><span class="id" type="variable">B</span></a>),<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#y"><span class="id" type="variable">y</span></a> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Poly.html#map"><span class="id" type="definition">map</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l"><span class="id" type="variable">l</span></a>) <span style="font-family: arial;">↔</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: arial;">∃</span><span class="id" type="var">x</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a> = <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#y"><span class="id" type="variable">y</span></a> <span style="font-family: arial;">∧</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l"><span class="id" type="variable">l</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

<a name="lab177"></a><h4 class="section">Exercise: 2 stars (in_app_iff)</h4>

</div>
<div class="code code-space">
<span class="id" type="keyword">Lemma</span> <a name="in_app_iff"><span class="id" type="lemma">in_app_iff</span></a> : <span style="font-family: arial;">∀</span><span class="id" type="var">A</span> <span class="id" type="var">l</span> <span class="id" type="var">l'</span> (<span class="id" type="var">a</span>:<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#A"><span class="id" type="variable">A</span></a>),<br>
&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#a"><span class="id" type="variable">a</span></a> (<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l"><span class="id" type="variable">l</span></a>++<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l'"><span class="id" type="variable">l'</span></a>) <span style="font-family: arial;">↔</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l"><span class="id" type="variable">l</span></a> <span style="font-family: arial;">∨</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l'"><span class="id" type="variable">l'</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

<a name="lab178"></a><h4 class="section">Exercise: 3 stars (All)</h4>
 Recall that functions returning propositions can be seen as
    <i>properties</i> of their arguments. For instance, if <span class="inlinecode"><span class="id" type="var">P</span></span> has type
    <span class="inlinecode"><span class="id" type="var">nat</span></span> <span class="inlinecode"><span style="font-family: arial;">→</span></span> <span class="inlinecode"><span class="id" type="keyword">Prop</span></span>, then <span class="inlinecode"><span class="id" type="var">P</span></span> <span class="inlinecode"><span class="id" type="var">n</span></span> states that property <span class="inlinecode"><span class="id" type="var">P</span></span> holds of <span class="inlinecode"><span class="id" type="var">n</span></span>.

<div class="paragraph"> </div>

    Drawing inspiration from <span class="inlinecode"><span class="id" type="var">In</span></span>, write a recursive function <span class="inlinecode"><span class="id" type="var">All</span></span>
    stating that some property <span class="inlinecode"><span class="id" type="var">P</span></span> holds of all elements of a list
    <span class="inlinecode"><span class="id" type="var">l</span></span>. To make sure your definition is correct, prove the <span class="inlinecode"><span class="id" type="var">All_In</span></span>
    lemma below.  (Of course, your definition should <i>not</i> just
    restate the left-hand side of <span class="inlinecode"><span class="id" type="var">All_In</span></span>.) 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Fixpoint</span> <a name="All"><span class="id" type="definition">All</span></a> {<span class="id" type="var">T</span>} (<span class="id" type="var">P</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#T"><span class="id" type="variable">T</span></a> <span style="font-family: arial;">→</span> <span class="id" type="keyword">Prop</span>) (<span class="id" type="var">l</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Poly.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#T"><span class="id" type="variable">T</span></a>) : <span class="id" type="keyword">Prop</span> :=<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#admit"><span class="id" type="axiom">admit</span></a>.<br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="All_In"><span class="id" type="lemma">All_In</span></a> :<br>
&nbsp;&nbsp;<span style="font-family: arial;">∀</span><span class="id" type="var">T</span> (<span class="id" type="var">P</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#T"><span class="id" type="variable">T</span></a> <span style="font-family: arial;">→</span> <span class="id" type="keyword">Prop</span>) (<span class="id" type="var">l</span> : <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Poly.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#T"><span class="id" type="variable">T</span></a>),<br>
&nbsp;&nbsp;&nbsp;&nbsp;(<span style="font-family: arial;">∀</span><span class="id" type="var">x</span>, <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l"><span class="id" type="variable">l</span></a> <span style="font-family: arial;">→</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#x"><span class="id" type="variable">x</span></a>) <span style="font-family: arial;">↔</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#All"><span class="id" type="definition">All</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Logic.html#l"><span class="id" type="variable">l</span></a>.<br>
<span class="id" type="keyword">Proof</span>.<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br>
</div>

<div class="doc">
<font size="-2">☐</font> 
<div class="paragraph"> </div>

<a name="lab179"></a><h4 class="section">Exercise: 3 stars (combine_odd_even)</h4>
 Complete the definition of the <span class="inlinecode"><span class="id" type="var">combine_odd_even</span></span> function below.
    It takes as arguments two properties of numbers, <span class="inlinecode"><span class="id" type="var">Podd</span></span> and
    <span class="inlinecode"><span class="id" type="var">Peven</span></span>, and it should return a property <span class="inlinecode"><span class="id" type="var">P</span></span> such that <span class="inlinecode"><span class="id" type="var">P</span></span> <span class="inlinecode"><span class="id" type="var">n</span></span> is
    equivalent to <span class="inlinecode"><span class="id" type="var">Podd</span></span> <span class="inlinecode"><span class="id" type="var">n</span></span> when <span class="inlinecode"><span class="id" type="var">n</span></span> is odd and equivalent to <span class="inlinecode"><span class="id" type="var">Peven</span></span> <span class="inlinecode"><span class="id" type="var">n</span></span>
    otherwise. 
</div>
<div class="code code-tight">

<br>
<span class="id" type="keyword">Definition</span> <a name="combine_odd_even"><span class="id" type="definition">combine_odd_even</span></a> (<span class="id" type="var">Podd</span> <span class="id" type="var">Peven</span> : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <span style="font-family: arial;">→</span> <span class="id" type="keyword">Prop</span>) : <a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <span style="font-family: arial;">→</span> <span class="id" type="keyword">Prop</span> :=<br>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <a class="idref" href="http://www.seas.upenn.edu/~cis500/current/sf/Basics.html#admit"><span class="id" type="axiom">admit</span></a>.<br>

<br>
</div>

<div class="doc">
To test your definition, prove the following facts: 
</div>
<div class="code code-tight">

<br>
</div></div></div><audio controls="controls" style="display: none;"></audio></body><style type="text/css">#yddContainer{display:block;font-family:Microsoft YaHei;position:relative;width:100%;height:100%;top:-4px;left:-4px;font-size:12px;border:1px solid}#yddTop{display:block;height:22px}#yddTopBorderlr{display:block;position:static;height:17px;padding:2px 28px;line-height:17px;font-size:12px;color:#5079bb;font-weight:bold;border-style:none solid;border-width:1px}#yddTopBorderlr .ydd-sp{position:absolute;top:2px;height:0;overflow:hidden}.ydd-icon{left:5px;width:17px;padding:0px 0px 0px 0px;padding-top:17px;background-position:-16px -44px}.ydd-close{right:5px;width:16px;padding-top:16px;background-position:left -44px}#yddKeyTitle{float:left;text-decoration:none}#yddMiddle{display:block;margin-bottom:10px}.ydd-tabs{display:block;margin:5px 0;padding:0 5px;height:18px;border-bottom:1px solid}.ydd-tab{display:block;float:left;height:18px;margin:0 5px -1px 0;padding:0 4px;line-height:18px;border:1px solid;border-bottom:none}.ydd-trans-container{display:block;line-height:160%}.ydd-trans-container a{text-decoration:none;}#yddBottom{position:absolute;bottom:0;left:0;width:100%;height:22px;line-height:22px;overflow:hidden;background-position:left -22px}.ydd-padding010{padding:0 10px}#yddWrapper{color:#252525;z-index:10001;background:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ab20.png);}#yddContainer{background:#fff;border-color:#4b7598}#yddTopBorderlr{border-color:#f0f8fc}#yddWrapper .ydd-sp{background-image:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ydd-sprite.png)}#yddWrapper a,#yddWrapper a:hover,#yddWrapper a:visited{color:#50799b}#yddWrapper .ydd-tabs{color:#959595}.ydd-tabs,.ydd-tab{background:#fff;border-color:#d5e7f3}#yddBottom{color:#363636}#yddWrapper{min-width:250px;max-width:400px;}</style></html>